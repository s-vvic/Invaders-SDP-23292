<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect Your Device - Invaders</title>
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="utility.css">
    <link rel="stylesheet" href="starfield.css"> <!-- Added for consistent background -->
    <link rel="stylesheet" href="button.css"> <!-- Added for consistent button styling -->
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="toast.css">
    <link rel="stylesheet" href="skeleton.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="starfield-canvas"></canvas> <!-- Added for consistent background -->
    <div id="app">
        <div id="device-login-view">
            <div class="container">
                
                <!-- This part is for users who are already logged in -->
                <div id="connect-view" class="hidden">
                    <h1>Connect Your Device</h1>
                    <p id="device-welcome-message"></p>
                    <form id="connect-form">
                        <div class="form-group">
                            <label for="device-code-authed">Device Code</label>
                            <input type="text" id="device-code-authed" placeholder="ABC-123" required>
                        </div>
                        <button type="submit">Connect Device</button>
                    </form>
                    <p id="connect-error" class="error-message"></p>
                    <p class="toggle-link"><button id="logout-and-switch-btn" class="link-button">Not you? Login with a different account</button></p>
                </div>

                <!-- This part is for users who are NOT logged in -->
                <div id="full-login-view">
                    <h1>Login to Connect</h1>
                    <form id="device-login-form">
                        <div class="form-group">
                            <label for="device-code">Device Code</label>
                            <input type="text" id="device-code" placeholder="ABC-123" required>
                        </div>
                        <div class="form-group">
                            <label for="device-username">Username</label>
                            <input type="text" id="device-username" required>
                        </div>
                        <div class="form-group">
                            <label for="device-password">Password</label>
                            <input type="password" id="device-password" required>
                        </div>
                        <button type="submit">Login and Connect</button>
                    </form>
                    <p id="device-login-error" class="error-message"></p>
                </div>
                
                <!-- This part is for showing a success message -->
                <div id="success-view" class="hidden">
                    <h1>Success!</h1>
                    <p>Your device is connected. You can now return to your game.</p>
                </div>

            </div>
        </div>
    </div>
    <!-- Toast Container for notifications -->
    <div id="toast-container" class="toast-container"></div>
    <script src="starfield.js"></script> <!-- Added for dynamic background -->
    <script src="api.js"></script>
    <script src="device.js"></script> 
</body>
</html>
